<!--pages/order/order.wxml-->
<view class="page-container">

  <!-- 收货人信息 -->
  <view bindtap="navigateTo" data-url="consigneeInfo">
    <view class="page-section consignee-info" wx:if="{{!consigneeInfo}}" >
      <text class="page-title-big">收货人信息</text>
      <text class="page-text">请输入收货人地址信息</text>
    </view>

    <Adress data="{{consigneeInfo}}" wx:else/>
  </view>



  <!-- 商品信息 -->
  <view class="page-section no-padding order-info">

    <!--选择驿站-->
    <Cell label="选择驿站" arrow>
      <text slot="value">{{storeList[storeIndex].name || '请选择'}}</text>
      <!--<picker slot="value" bindchange="bindPickerChange"-->
              <!--value="{{storeList[storeIndex].name}}"-->
              <!--data-type="storeIndex"-->
              <!--range="{{storeListPickerData}}">-->
        <!--<view class="weui-input">{{storeList[storeIndex].name}}</view>-->
      <!--</picker>-->
    </Cell>

    <Cell label="供应商" arrow>
      <text slot="value" class="strong">{{supplierList[supplierIndex].name || '请选择'}}</text>
    </Cell>

    <!-- 选择商品 -->
    <Cell label="选择商品" arrow
          bindtap="navigateTo"
          data-url="searchWares"
          data-params="{{searchWaresParam}}">
      <text slot="value">{{!wareList ? '请输入SKU编号' : wareList[wareIndex].skuID}}</text>
    </Cell>

    <!-- 商品购买区 -->
    <block wx:if="{{wareList}}">
      <Cell arrow="{{false}}" >
        <text slot="label" class="bold">自营驿站</text>
      </Cell>
      <Cell arrow="{{false}}" container>
        <GoodsItem wx:for="{{wareList}}"
                   wx:key="index"
                   wx:for-item="item"
                   line="{{index < wareList.length - 1}}"
                   data="{{item}}">

        </GoodsItem>
      </Cell>
    </block>


    <!-- 支付方式 -->
    <Cell label="支付方式" arrow>
      <!--<text slot="value" class="strong">{{payTypeConfig[orderPayType]}}</text>-->
      <picker slot="value" bindchange="bindPickerChange"
              value="{{storeList[storeIndex].name}}"
              data-type="orderPayType"
              range="{{payTypeConf}}">
          <view class="strong">{{payTypeConf[orderPayType]}}</view>
      </picker>
    </Cell>

    <!-- 价格展示区  -->
    <Cell line="{{false}}">

      <!-- 下单信息统计 -->
      <view slot="value" class="cell-indent-right total-price" wx:if="{{totalPrice}}">
        共 {{totalCount}} 件，总价
        <text class="theme-text">￥{{totalPrice}}</text>
      </view>

      <!-- 支付提示 -->
      <text slot="value" class="cell-indent-right desc-text" wx:else>
        请根据实际情况选择支付方式
      </text>

    </Cell>


  </view>

  <!-- 页面按钮 -->
  <c-button text="下单" disabled="{{false}}" bindtap="submitOrder"></c-button>

</view>
